<% layout("/layouts/boilerPlate") %>
<style>
    body {
      background-color: #f8f9fa;
    }
    .form-container {
      max-width: 400px;
      margin: 0 auto;
      margin-top: 100px;
      background-color: #ffffff00;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .form-container {
      width: 70%;
      margin: 57px auto;
      -webkit-box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.75);
      -moz-box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.75);
      box-shadow: 0px 0px 20px 0px rgba(0, 0, 0, 0.75);
      padding: 50px;
      background: rgba(214, 211, 211, 0.22);
      backdrop-filter: blur(10px);  
      /* //make it transparent */
    }

</style>

<div class="container">
  <div class="form-container">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="login-tab" data-toggle="tab" href="#login" role="tab" aria-controls="login" aria-selected="true">Login</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="signup-tab" data-toggle="tab" href="#signup" role="tab" aria-controls="signup" aria-selected="false">Sign Up</a>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
        <div class="row mt-3">
          <h1 class="col-12">Login</h1>
          <div class="col-12">
            <form action="/login" method="POST" class="needs-validation" novalidate>
              <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input name="username" type="text" class="form-control" id="username" required/>
                <div class="valid-feedback">Looks good!</div>
              </div>
              <div class="mb-3">
                <label for="login-password" class="form-label">Password</label>
                <div class="input-group">
                  <input name="password" id="login-password" type="password" class="form-control" required/>
                  <button class="btn" id="password-toggle-login" style="background-color: #f0f0f0;">
                    <i class="fa fa-eye" aria-hidden="true" id="eye-icon-login"></i>
                  </button>                               
                </div>
              </div>              
              <button type="submit" class="btn btn-danger btn-block">Login</button>
              <p>Don't have an account? <button class="btn btn-link" id="signup-btn" style="text-decoration: none;">Create one</button></p>
            </form>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="signup" role="tabpanel" aria-labelledby="signup-tab">
        <div class="row mt-3">
          <h1 class="col-12">Signup</h1>
          <div class="col-12">
            <form action="/signup" method="POST" class="needs-validation" novalidate>
              <div class="mb-3">
                <label for="username" class="form-label">Username</label>
                <input name="username" type="text" class="form-control" id="username" required/>
                <div class="valid-feedback">Looks good!</div>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input name="email" type="email" class="form-control" id="email" required/>
              </div>
              <div class="mb-3">
                <label for="signup-password" class="form-label">Password</label>
                <div class="input-group">
                  <input name="password" id="signup-password" type="password" class="form-control" required/>
                  <button class="btn" id="password-toggle-signup" style="background-color: #f0f0f0;">
                    <i class="fa fa-eye" aria-hidden="true" id="eye-icon-signup"></i>
                  </button>                               
                </div>
              </div>                                         
              <button type="submit" id="signup-btn" class="btn btn-danger btn-block">Sign Up</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const signupButton = document.getElementById('signup-btn');
    const signupTab = document.getElementById('signup-tab');

    // Add event listener to the "Create one" button
    signupButton.addEventListener('click', function() {
      // Activate the "Sign Up" tab
      signupTab.click();
    });
  });
  document.getElementById('password-toggle-login').addEventListener('click', function(event) {
  event.preventDefault(); // Prevent form submission
  const passwordInput = document.getElementById('login-password');
  const eyeIcon = document.getElementById('eye-icon-login');

  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeIcon.classList.remove('fa-eye');
    eyeIcon.classList.add('fa-eye-slash');
  } else {
    passwordInput.type = 'password';
    eyeIcon.classList.remove('fa-eye-slash');
    eyeIcon.classList.add('fa-eye');
  }
});

document.getElementById('password-toggle-signup').addEventListener('click', function(event) {
  event.preventDefault(); // Prevent form submission
  const passwordInput = document.getElementById('signup-password');
  const eyeIcon = document.getElementById('eye-icon-signup');

  if (passwordInput.type === 'password') {
    passwordInput.type = 'text';
    eyeIcon.classList.remove('fa-eye');
    eyeIcon.classList.add('fa-eye-slash');
  } else {
    passwordInput.type = 'password';
    eyeIcon.classList.remove('fa-eye-slash');
    eyeIcon.classList.add('fa-eye');
  }
});
</script>
